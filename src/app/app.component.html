<ion-app>
  <ion-menu contentId="main-content" side="start">
    <ion-header>
      <ion-header>
        <ion-toolbar color="primary">
          <ion-grid class="ion-no-padding ion-align-items-center">
            <ion-row class="ion-align-items-center">
              <ion-col>
                <ion-title class="ion-no-margin">Menú</ion-title>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-toolbar>
        <ion-toolbar color="primary">
          <ion-menu-toggle auto-hide="false">
            <ion-item lines="none" button [routerLink]="['/profile']" class="user-card" color="primary">
              <ion-avatar slot="start" style="width: 60px; height: 60px;">
                <img src="../assets/images/avatar.png" alt="usuario" />
              </ion-avatar>
              <ion-label>
                <h2 style="margin-bottom: 2px; font-size: 12px;">{{username}}</h2>
                <p style="font-size: 13px; color: var(--ion-color-medium); margin: 0;">Ver perfil</p>
              </ion-label>
              <ion-buttons slot="end">
                <ion-button shape="round" id="popover-button-user" (click)="HandleClick($event)"><ion-icon
                    name="ellipsis-vertical-outline"></ion-icon></ion-button>
              </ion-buttons>
              <ion-popover trigger="popover-button-user" [dismissOnSelect]="true">
                <ng-template>
                  <ion-content>
                    <ion-list>
                      <ion-menu-toggle auto-hide="false">
                        <ion-item [routerLink]="['/profile']" lines="none" detail="false" routerLinkActive="selected">
                          <ion-icon aria-hidden="true" slot="start" name="person-outline" color="primary"></ion-icon>
                          <ion-label>Perfil</ion-label>
                        </ion-item>
                      </ion-menu-toggle>
                      <ion-menu-toggle auto-hide="false">
                        <ion-item [routerLink]="['/settings']" lines="none" detail="false" routerLinkActive="selected">
                          <ion-icon aria-hidden="true" slot="start" name="settings-outline" color="primary"></ion-icon>
                          <ion-label>Ajustes</ion-label>
                        </ion-item>
                      </ion-menu-toggle>
                      <ion-menu-toggle auto-hide="false">
                        <ion-item [routerLink]="['/login']" lines="none" detail="false" routerLinkActive="selected">
                          <ion-icon aria-hidden="true" slot="start" name="power-outline" color="primary"></ion-icon>
                          <ion-label>Salir</ion-label>
                        </ion-item>
                      </ion-menu-toggle>
                    </ion-list>
                  </ion-content>
                </ng-template>
              </ion-popover>
            </ion-item>
          </ion-menu-toggle>
        </ion-toolbar>
      </ion-header>
    </ion-header>
    <ion-content style="--background: var(--ion-item-background);">
      <!--ion-list>
        <ion-item-group>
          <ion-menu-toggle auto-hide="false">
            <ion-item [routerLink]="['/login']" lines="none" detail="false" routerLinkActive="selected">
              <ion-icon aria-hidden="true" slot="start" name="home-outline" color="primary"></ion-icon>
              <ion-label>Home</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-item-group>
      </ion-list-->
      <ion-accordion-group [multiple]="true" [value]="['mfg']" style="padding-top: 5px;">
        <ion-accordion value="mfg">
          <ion-item slot="header" lines="full" color="secondary" button>
            <ion-icon slot="start" name="cube-outline"></ion-icon>
            <ion-label><strong>Producción</strong></ion-label>
          </ion-item>

          <div slot="content" style="padding-left: 16px;">
            <ion-list lines="none">
              <ion-menu-toggle auto-hide="false">
                <ion-item [routerLink]="['/monitoring']" routerLinkActive="selected" detail="false" button
                  color="light">
                  <ion-icon slot="start" name="stats-chart-outline" color="secondary"></ion-icon>
                  <ion-label>Monitoreo</ion-label>
                </ion-item>
              </ion-menu-toggle>

              <ion-menu-toggle auto-hide="false">
                <ion-item [routerLink]="['/devices']" routerLinkActive="selected" detail="false" button color="light">
                  <ion-icon slot="start" name="hardware-chip-outline" color="secondary"></ion-icon>
                  <ion-label>Dispositivos</ion-label>
                </ion-item>
              </ion-menu-toggle>
            </ion-list>
          </div>
        </ion-accordion>
        <ion-accordion value="mtto">
          <ion-item slot="header" lines="full" color="secondary" button>
            <ion-icon slot="start" name="hammer-outline"></ion-icon>
            <ion-label><strong>Mantenimiento</strong></ion-label>
          </ion-item>
          <div slot="content" style="padding-left: 16px;">
            <ion-list lines="none">
              <ion-menu-toggle auto-hide="false">
                <ion-item [routerLink]="['/sales']" routerLinkActive="selected" detail="false" button color="light">
                  <ion-icon slot="start" name="warning-outline" color="secondary"></ion-icon>
                  <ion-label>Alertas</ion-label>
                </ion-item>
              </ion-menu-toggle>

              <ion-menu-toggle auto-hide="false">
                <ion-item routerLinkActive="selected" detail="false" button color="light">
                  <ion-icon slot="start" name="time-outline" color="secondary"></ion-icon>
                  <ion-label>Scada</ion-label>
                </ion-item>
              </ion-menu-toggle>
            </ion-list>
          </div>
        </ion-accordion>
        <ion-accordion value="settings">
          <ion-item slot="header" lines="full" color="secondary" button>
            <ion-icon slot="start" name="settings-outline"></ion-icon>
            <ion-label><strong>Configuraciones</strong></ion-label>
          </ion-item>

          <div slot="content" style="padding-left: 16px;">
            <ion-list lines="none">
              <ion-menu-toggle auto-hide="false">
                <ion-item [routerLink]="['/users']" routerLinkActive="selected" detail="false" button color="light">
                  <ion-icon slot="start" name="people-outline" color="secondary"></ion-icon>
                  <ion-label>Usuarios</ion-label>
                </ion-item>
              </ion-menu-toggle>

              <ion-menu-toggle auto-hide="false">
                <ion-item [routerLink]="['/fusion_connection']" routerLinkActive="selected" detail="false" button
                  color="light">
                  <ion-icon slot="start" name="git-network-outline" color="secondary"></ion-icon>
                  <ion-label>Integraciones</ion-label>
                </ion-item>
              </ion-menu-toggle>
            </ion-list>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-content>
    <ion-footer class="no-shadow">
      <ion-toolbar>
        <ion-item lines="none">
          <ion-toggle [(ngModel)]="darkMode" (ionChange)="ChangeColorMode()" color="primary">Modo oscuro</ion-toggle>
        </ion-item>
        <ion-item lines="none">
          <ion-note color="medium" slot="end" class="ion-text-center" slot="end">Versión:</ion-note>
        </ion-item>
      </ion-toolbar>
    </ion-footer>
  </ion-menu>
  <div class="ion-page" id="main-content">
  </div>
  <ion-router-outlet></ion-router-outlet>
</ion-app>